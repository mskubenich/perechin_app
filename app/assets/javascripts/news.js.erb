// Place all the behaviors and hooks related to the matching controller here.
// All this logic will automatically be available in application.js.


function include(filename)
{
    var head = document.getElementsByTagName('head')[0];

    script = document.createElement('script');
    script.src = filename;
    script.type = 'text/javascript';

    head.appendChild(script)
}

include('<%= asset_path "/galleria/galleria-1.2.8.min.js" %>');

function add_comment_handler(new_comment_url){
    j("#add_comment").click(function(){
            if(j("#new_comment").val().trim() != ""){
                j.ajax({
                    url: new_comment_url,
                    data: {text: j("#new_comment").val()},
                    type: 'POST',
                    beforeSend: function () {
                    },
                    complete: function(){
                    },
                    error: function(err){
                        alert("error");
                    },
                    success: function(data){
                        j("#comments").append(data);
                        j("#new_comment").val("");
                    }
                });
            }
    });
}
